<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
        <app-back-button></app-back-button>
        <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Inscription</ion-title>
    <ion-progress-bar value="0.8888888888"></ion-progress-bar>
  </ion-toolbar>
</ion-header>


<ion-content>

  <form [formGroup]="form" (submit)="submit()">

    <div class="ion-padding-horizontal">
      <div class="onboarding-title">
        As-tu des soucis de sant√© ?
      </div>
      <div class="onboarding-subtitle">
        Il y a quelque chose qui te semble pertinent et que ton coach doit prendre en compte ?
      </div>
    </div>

    <div class="input-wrapper multi-selector-wrapper">
      <app-bubble-multi-selector
        [options]="healthConditionsOptions"
        formControlName="healthConditions"
        [keyAccessor]="healthConditionsKeyAccessor"
        [errorText]="displayedError.healthConditions"
        mode="multiple"
      ></app-bubble-multi-selector>
    </div>
    <div [class]="'input-wrapper animated ' + (form.get('healthConditions').value.includes('Autre(s)') ? '' : 'hidden')">
      <app-outline-input
        label="Autre(s)"
        formControlName="otherHealthConditions"
        [errorText]="displayedError.otherHealthConditions"
      ></app-outline-input>
    </div>

    <br/><br/><br/><br/><br/><br/>
    <div class="onboarding-floating-bottom-1">
      <div class="ion-padding">
        <app-ux-button
          expand="block" 
          color="primary" 
          shape="round" 
          [disabled]="!form.valid"
          [loading]="isLoading"
        >
          Continuer
        </app-ux-button>
      </div>
    </div>
  </form>
</ion-content>
<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <app-back-button></app-back-button>
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Uploader une vidéo</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <h1 class="display-1 ion-padding">Uploader une vidéo</h1>
    <form [formGroup]="form" (submit)="submit()">
        <ion-item>
            <ion-input
                label="Titre"
                label-placement="floating"
                formControlName="title"
                [errorText]="displayedError.title"
            ></ion-input>
        </ion-item>
        <ion-item>
            <ion-input
                label="Titre secondaire (facultatif)"
                label-placement="floating"
                formControlName="sort_field"
                [errorText]="displayedError.sort_field"
            ></ion-input>
        </ion-item>
        <ion-item>
            <ion-textarea
                    label="Description"
                    label-placement="floating"
                    formControlName="description"
                    [rows]="5"
                    [errorText]="displayedError.description"
            ></ion-textarea>
        </ion-item>
        <ion-item>
            <ion-input
                label="Tags"
                label-placement="floating"
                formControlName="tags"
                [errorText]="displayedError.tags"
            ></ion-input>
        </ion-item>
        <ion-item>
            <ion-select
                    formControlName="category"
                    label="Catégorie"
                    label-placement="floating"
            >
                <ion-select-option value="undefined">Non défini</ion-select-option>
                <ion-select-option value="training">Training</ion-select-option>
                <ion-select-option value="training/corps-entier">Training > Corps entier</ion-select-option>
                <ion-select-option value="training/bras">Training > Bras et épaules</ion-select-option>
                <ion-select-option value="training/abdos">Training > Abdos</ion-select-option>
                <ion-select-option value="training/jambes">Training > Jambes</ion-select-option>
                <ion-select-option value="training/fessiers">Training > Fessiers</ion-select-option>
                <ion-select-option value="training/pectoraux">Training > Pectoraux</ion-select-option>
                <ion-select-option value="training/dos">Training > Dos</ion-select-option>

                <ion-select-option value="boxing">Boxing</ion-select-option>
                <ion-select-option value="boxing/base">Boxing > Base</ion-select-option>
                <ion-select-option value="boxing/poings">Boxing > Poings</ion-select-option>
                <ion-select-option value="boxing/pieds-genoux">Boxing > Pieds et genoux</ion-select-option>
                <ion-select-option value="boxing/pieds-poings-genoux">Boxing > Pieds, poings et genoux</ion-select-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-select
                formControlName="privilege"
                label="Privilège requis"
                label-placement="floating"
            >
            <ion-select-option value='public,hoylt,moreno,alonzo'>Tout le monde</ion-select-option>
            <ion-select-option value='hoylt,moreno,alonzo'>Hoylt ou supérieur</ion-select-option>
            <ion-select-option value="moreno,alonzo">Moreno ou supérieur</ion-select-option>
            <ion-select-option value="alonzo">Alonzo</ion-select-option>
            </ion-select>
        </ion-item>
        <br/>
        <app-upload-video [formControl]="fileControl"></app-upload-video>
        <br/>
        <app-ux-button 
            expand="block" 
            [disabled]="!valid" 
            shape="round" 
            [loading]="isFormLoading"
            type="submit"
        >Envoyer</app-ux-button>
    </form>
</ion-content>
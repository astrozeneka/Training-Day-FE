<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start">
          <app-back-button></app-back-button>
          <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Ajouter une recette</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h1 class="display-1 ion-padding">Ajouter une recette</h1>
  <form [formGroup]="form" (submit)="submit()">

    <!-- ion-item is deprecated and will be removed later -->
    <ion-item>
      <ion-input
        label="Titre"
        label-placement="floating"
        formControlName="title"
        [errorText]="displayedError.title"
      ></ion-input>
    </ion-item>

    <!-- ion-item is deprecated -->
    <ion-item>
      <ion-textarea
              label="Description"
              label-placement="floating"
              formControlName="description"
              [rows]="5"
              [errorText]="displayedError.description"
      ></ion-textarea>
    </ion-item>

    <!-- ion-item is deprecated -->
    <ion-item>
      <ion-textarea
              label="Ingrédients"
              label-placement="floating"
              formControlName="category"
              [rows]="5"
              [errorText]="displayedError.category"
      ></ion-textarea>
    </ion-item>

    <!-- Image picker -->
    <div>
      <div class="label">
        Image représentative
      </div>
      <app-image-picker
        label="Image"
        formControlName="image"
        [errorText]="displayedError.image"
      ></app-image-picker>
    </div>

    <!-- PDF pickers -->
    <div>
      <div class="label">
        PDF pour petit smartphone
      </div>
      <app-image-picker
        label="Sélectionner un fichier"
        accept="application/pdf"
        formControlName="pdfSmallPhone"
        [errorText]="displayedError.pdfSmallPhone"
      ></app-image-picker>
    </div>
    
    <!-- PDF pickers -->
    <div>
      <div class="label">
        PDF pour smartphone
      </div>
      <app-image-picker
        label="Sélectionner un fichier"
        accept="application/pdf"
        formControlName="pdfLargePhone"
        [errorText]="displayedError.pdfLargePhone"
      ></app-image-picker>
    </div>
    
    <!-- PDF pickers -->
    <div>
      <div class="label">
        PDF pour tablette
      </div>
      <app-image-picker
        label="Sélectionner un fichier"
        accept="application/pdf"
        formControlName="pdfTablet"
        [errorText]="displayedError.pdfTablet"
      ></app-image-picker>
    </div>

    <app-ux-button expand="block" [disabled]="!valid" shape="round" [loading]="isFormLoading">Envoyer</app-ux-button>
  </form>
</ion-content>

<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>Procéder au paiement</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <h1 class="display-1 ion-padding">Validez votre paiement</h1>

    <div class="container ion-padding">
        <div>
            <div *ngIf="!validated">
                <p class="helper">
                    Veuillez effectuer le paiement depuis la nouvelle fenêtre qui s'est ouverte. Effectuez votre paiement, puis revenez sur cette page pour confirmer votre paiement.
                </p>
                <br/>
                <ion-button expand="full" shape="round" color="primary" (click)="clickVerify()" [disabled]="verifying">
                    <span *ngIf="!verifying">
                        Vérifier le paiement
                    </span>
                    <ion-spinner name="dots" *ngIf="verifying"></ion-spinner>
                </ion-button>
            </div>
            <div *ngIf="validated">
                <p class="helper">
                    Votre paiement de {{ amount / 100 }} € été validé.
                </p>
                <ion-item>
                    Télécharger votre reçu
                    <ion-button color="warning" fill="solid" slot="end" (click)="download_receipt()">Télécharger</ion-button>
                </ion-item>
                <br/>
                <ion-button color="primary" expand="full" shape="round" (click)="next()">Continuer</ion-button>
            </div>
        </div>
    </div>
</ion-content>